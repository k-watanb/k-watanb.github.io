<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>{{ block "title" . }}{{ end }}{{ .Site.Title }}</title>
        {{ partial "meta.html" . }}
        {{ block "meta" . }}{{ end }}

        <link rel="canonical" href="{{ .Permalink }}">

<!--         {{ with .Site.Params.googlefonts }}
        <link href="{{ . }}" rel="stylesheet">
        {{ else }}
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700" rel="stylesheet">
        {{ end }} -->
        {{ if .Site.Params.EnableHighlight | default false }}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/default.min.css">
        {{ end }}
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" crossorigin="anonymous">
        <style>

        {{ with resources.Get "styles.scss" | toCSS }}
            {{ replace .Content `@charset "UTF-8";` "" | safeCSS }}
        {{ end }}

        {{ if .Site.Params.Author }}
            {{ with resources.Get "author.scss" | toCSS }}
                {{ replace .Content `@charset "UTF-8";` "" | safeCSS }}
            {{ end }}
        {{ end }}

        .thumb {
            background-image: url("{{ "images/default.jpg" | absURL }}");
            background-size: cover;
            background-position: center;
        }
        {{ range $p := .Site.RegularPages }}
            {{ with $p.Params.thumbnail }}
        .thumb-{{ $p.File.UniqueID }} {
            background-image: url("{{ . | absURL }}");
        }
            {{ end }}
        {{ end }}

        {{ partial "custom.css" . | safeCSS }}
                </style>
        {{ if and .Site.GoogleAnalytics (ne (getenv "HUGO_ENV") "DEV") }}
            <script async src='https://www.google-analytics.com/analytics.js'></script>
            <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', {{ .Site.GoogleAnalytics }}, 'auto', {'useAmpClientId': true});
            ga('send', 'pageview');
            </script>
        {{ end }}

    </head>

    <body>

        <header class="l-header">
            <div class="title-logo-wrapper">
                <h1 class="logo">
                    <a href="{{ .Site.BaseURL }}"><img src="/images/logo.png"></a>
                </h1>
                <nav class="topnav">
                    <ul class="topnav_menu">

                        <li class="topnav_menu_item"><a href="/">Home</a></li>
                        <li class="topnav_menu_item"><a href="/categories">Categories</a></li>
                        <li class="topnav_menu_item"><a href="/tags">Tags</a></li>
                        <li class="topnav_menu_item"><a href="/about">About</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            <div class="l-container">
                <div class="mrow">
                <div class="mcol c8">
                    {{ block "main" . }}{{ end }}
                </div>
                <div class="mcol c4">
                    <aside class="l-sidebar">
                        {{ partial "author.html" . }}
                        {{ partial "latests.html" . }}
                        {{ partial "categories.html" . }}
                        {{ partial "tags.html" . }}
                    </aside>
                </div>
            </div>
        </main>

        <footer class="l-footer">
            <p>&copy; {{ .Site.Params.copyrightYear }} {{ .Site.Title }} </p>
        </footer>
    </body>
</html>

